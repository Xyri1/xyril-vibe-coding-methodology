**人类主导、AI 执行的开发流水线**

[English](README.md)

一套面向独立开发者（或小型团队）的方法论，以 LLM coding agent 作为主要执行者。

**产物：**
- `SPEC.md` — 持久化的实现规格。类型、结构、接线模式、带验证协议的里程碑、约束条件、已知未知项。agent的唯一事实来源。
- `DECISIONS.md` — 仅追加的决策日志。人类在初始规划时填入种子内容；agent在执行过程中追加。单行条目，分类记录，按里程碑或项目范围划分。
- `CHANGELOG.md` — 仅追加的实际构建记录。每个里程碑经人类验证后，由agent撰写。追踪与 SPEC 的偏差。
- `todo.md` — 一次性清单，范围限定在单个里程碑内。同一时间只存在一份。每个里程碑重新生成，完成后删除。

**流程：**
1. **规划** — 人类梳理架构、权衡与决策（对话式或独立完成）。产出 PRD 或等效文档供人类参考。
2. **转译** — 将规划内容转化为面向agent优化的 SPEC.md：简洁、有类型、有序、无叙述性散文。将初始决策填入 DECISIONS.md。
3. **门控循环执行：**
   - 为当前里程碑生成 `todo.md`
   - agent执行
   - 人类验证（每个里程碑都有具体的通过/失败命令）
   - agent追加 CHANGELOG.md
   - 人类纠偏，生成下一个 todo.md

**原则：**
- **将思考与执行产物分离。** PRD 面向人类。SPEC 面向agent。不同的受众，不同的格式。
- **每个里程碑只关注一件事。** 如果验证需要"还要检查……"——拆分它。
- **延迟绑定。** 不要预先生成所有 todo。早期执行为后续规划提供信息。
- **负向约束。** 告诉agent什么绝对不要做——防止合理但错误的自主决策。
- **已知未知项。** 标记哪些地方可能出问题、在哪个里程碑去调查——引导agent去研究而非假设。
- **人类守门，而非操盘。** 在接缝处验证结果并纠偏。不要微观管理代码。
